<HTML
>
<!-- Mirrored from bauhh.dyndns.org:8000/clim-spec/D-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 Nov 2021 17:30:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=ISO-8859-1" /><!-- /Added by HTTrack -->
<HEAD
><TITLE
>CLIM 2 Specification &mdash; D.3 Character Input</TITLE
><LINK REL="Stylesheet" TYPE="text/css" HREF="clim.css"
></LINK
><LINK REL="prev" TYPE="text/html" TITLE="D.2 Basic Stream Functions" HREF="D-2.html"
></LINK
><LINK REL="next" TYPE="text/html" TITLE="D.4 Character Output" HREF="D-4.html"
></LINK
><LINK REL="up" TYPE="text/html" TITLE="D Common Lisp Streams" HREF="D.html"
></LINK
><LINK REL="start" TYPE="text/html" TITLE="Common Lisp Interface Manager   CLIM II Specification" HREF="index-2.html"
></LINK
><LINK REL="glossary" TYPE="text/html" TITLE="Glossary" HREF="A.html"
></LINK
><LINK REL="index" TYPE="text/html" TITLE="Index" HREF="theindex.html"
></LINK
><LINK REL="contents" TYPE="text/html" TITLE="Table of Contents" HREF="contents.html"
></LINK
></HEAD
><BODY
><DIV CLASS="navbar"
><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" BORDER="0"
><COLGROUP
><COL WIDTH="0*"
></COL
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE"
><A HREF="D-2.html"
>Prev</A
><BR
><A HREF="D-4.html"
>Next</A
></TD
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><SPAN CLASS="upchain"
> &nbsp;<A HREF="index-2.html"
>CLIM&nbsp;2&nbsp;Specification</A
> &rarr;&nbsp;<A HREF="P-VIII.html"
>Part&nbsp;VIII:&nbsp;Appendices</A
> &rarr;&nbsp;<A HREF="D.html"
>D&nbsp;Common&nbsp;Lisp&nbsp;Streams</A
><BR
>&rarr;&nbsp;<A HREF="D-3.html"
><B
>D.3&nbsp;Character&nbsp;Input</B
></A
></SPAN
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD ALIGN="RIGHT" VALIGN="BASELINE"
><DIV CLASS="apropos"
><FORM METHOD="GET" ACTION="http://bauhh.dyndns.org:8000/clim-spec/edit/apropos"
>Apropos <BR
><INPUT SIZE="20" NAME="q"
></INPUT
></FORM
></DIV
></TD
></TR
></TABLE
></DIV
><A NAME="_1940"></A><DIV
><H3
>D.3 Character Input</H3
><P
>A character input stream can be created by defining a class that includes <A NAME="_7181"></A><A HREF="D-1.html#_1930"
><B CLASS="cl"
>fundamental-character-input-stream</B
></A
> and defining methods for the generic functions below. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=9A99E47BCF4F9C867EF5C9EFD6D72D4B%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1941"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-read-char</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Reads one character from <I
>stream</I
>, and returns either a character object or the symbol <B CLASS="cl"
>:eof</B
> if the stream is at end-of-file. There is no default method for this generic function, so every subclass of <A NAME="_7183"></A><A HREF="D-1.html#_1930"
><B CLASS="cl"
>fundamental-character-input-stream</B
></A
> must define a method. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=C818C502D882ED7D2D38DA7CCD9F5317%2Fstream-read-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=ACAA8DB8FA39DCFDAFCC09BE911F0D5E%2Fstream-read-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1057"
><SPAN CLASS="forwardlink"
>[&rarr; stream-read-char, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
><DIV CLASS="reverselinks"
><A HREF="D-3.html#_7205"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-read-line</B
></B
>]</SPAN
></A
><BR
><A HREF="D-3.html#_7196"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-peek-char</B
></B
>]</SPAN
></A
><BR
><A HREF="D-3.html#_7192"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-read-char-no-hang</B
></B
>]</SPAN
></A
><BR
><A HREF="D-3.html#_7184"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-unread-char</B
></B
>]</SPAN
></A
><BR
><A HREF="23-5.html#_4962"
><SPAN CLASS="reverselink"
>[&larr; 23.5 Context-dependent (Typed) Input, <B CLASS="cl"
><B CLASS="cl"
>stream-accept</B
></B
>]</SPAN
></A
><BR
><A HREF="22-1.html#_4384"
><SPAN CLASS="reverselink"
>[&larr; 22.1 Basic Input Streams, <B CLASS="cl"
><B CLASS="cl"
>stream-peek-char</B
></B
>]</SPAN
></A
><BR
><A HREF="22-1.html#_4379"
><SPAN CLASS="reverselink"
>[&larr; 22.1 Basic Input Streams, <B CLASS="cl"
><B CLASS="cl"
>stream-read-char-no-hang</B
></B
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1942"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-unread-char</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream character</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Undoes the last call to <A NAME="_7184"></A><A HREF="D-3.html#_1941"
><B CLASS="cl"
>stream-read-char</B
></A
>, as in <B CLASS="cl"
>unread-char</B
>, and returns <A NAME="_7186"></A><A HREF="23-8.html#_1254"
><B CLASS="cl"
>nil</B
></A
>. There is no default method for this, so every subclass of <A NAME="_7187"></A><A HREF="D-1.html#_1930"
><B CLASS="cl"
>fundamental-character-input-stream</B
></A
> must define a method. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=DA154EC6C1A17233AAD6C6AE0653FCB6%2Fstream-unread-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=DFE5C26E5C1D4A1B4B6698250E59705C%2Fstream-unread-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1059"
><SPAN CLASS="forwardlink"
>[&rarr; stream-unread-char, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
><DIV CLASS="reverselinks"
><A HREF="D-3.html#_7202"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-listen</B
></B
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1943"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-read-char-no-hang</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Returns either a character, or <A NAME="_7188"></A><A HREF="23-8.html#_1254"
><B CLASS="cl"
>nil</B
></A
> if no input is currently available, or <B CLASS="cl"
>:eof</B
> if end-of-file is reached. This is used to implement <B CLASS="cl"
>read-char-no-hang</B
>. The default method provided by <A NAME="_7191"></A><A HREF="D-1.html#_1930"
><B CLASS="cl"
>fundamental-character-input-stream</B
></A
> simply calls <A NAME="_7192"></A><A HREF="D-3.html#_1941"
><B CLASS="cl"
>stream-read-char</B
></A
>; this is sufficient for file streams, but interactive streams should define their own method. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=5319633B681D46783ABD223730210C30%2Fstream-read-char-no-hang%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=60CDDF08617A9A801FFBAE40F6A5576B%2Fstream-read-char-no-hang%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1058"
><SPAN CLASS="forwardlink"
>[&rarr; stream-read-char-no-hang, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
><DIV CLASS="reverselinks"
><A HREF="D-3.html#_7201"
><SPAN CLASS="reverselink"
>[&larr; D.3 Character Input, <B CLASS="cl"
><B CLASS="cl"
>stream-listen</B
></B
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1944"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-peek-char</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Returns either a character or <B CLASS="cl"
>:eof</B
> without removing the character from the stream's input buffer. This is used to implement <B CLASS="cl"
>peek-char</B
>; this corresponds to peek-type of <A NAME="_7195"></A><A HREF="23-8.html#_1254"
><B CLASS="cl"
>nil</B
></A
>. The default method calls <A NAME="_7196"></A><A HREF="D-3.html#_1941"
><B CLASS="cl"
>stream-read-char</B
></A
> and <B CLASS="cl"
>stream-unread-char.</B
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=F286C7906E95A6DD8CEAC9103FE459C9%2Fstream-peek-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=6CB8540FF3FF27E5DFDEB1BCF3B7176B%2Fstream-peek-char%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1060"
><SPAN CLASS="forwardlink"
>[&rarr; stream-peek-char, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1945"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-listen</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Returns <SPAN CLASS="term"
>true</SPAN
> if there is any input pending on <I
>stream</I
>, otherwise it returns <SPAN CLASS="term"
>false</SPAN
>. This is used by <B CLASS="cl"
>listen</B
>. The default method uses <A NAME="_7201"></A><A HREF="D-3.html#_1943"
><B CLASS="cl"
>stream-read-char-no-hang</B
></A
> and <A NAME="_7202"></A><A HREF="D-3.html#_1942"
><B CLASS="cl"
>stream-unread-char</B
></A
>. Most streams should define their own method since it will usually be trivial and will generally be more efficient than the default method. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=07967E9619453E1299280EB35005EEEC%2Fstream-listen%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=501B43072FF059B453D572DF8B4D2D08%2Fstream-listen%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1061"
><SPAN CLASS="forwardlink"
>[&rarr; stream-listen, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1946"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-read-line</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Returns a string as the first value, and <A NAME="_7203"></A><A HREF="23-8.html#_1253"
><B CLASS="cl"
>t</B
></A
> as the second value if the string was terminated by end-of-file instead of the end of a line. This is used by <B CLASS="cl"
>read-line</B
>. The default method uses repeated calls to <A NAME="_7205"></A><A HREF="D-3.html#_1941"
><B CLASS="cl"
>stream-read-char</B
></A
>. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=3B0632B633CA0221D6D9DE7D6484EA52%2Fstream-read-line%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=4651D4D7E0434CDA348997A19299BA99%2Fstream-read-line%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1062"
><SPAN CLASS="forwardlink"
>[&rarr; stream-read-line, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV CLASS="defun"
><DIV CLASS="defunsignatures"
><A NAME="_1947"></A><TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0"
><COLGROUP SPAN="3"
><COL WIDTH="0*"
></COL
><COL WIDTH="1*"
></COL
><COL WIDTH="0*"
></COL
></COLGROUP
><TR
><TD ALIGN="LEFT" VALIGN="BASELINE" NOWRAP="NOWRAP"
><B CLASS="cl"
>stream-clear-input</B
>&nbsp;&nbsp;</TD
><TD ALIGN="LEFT" VALIGN="BASELINE" WIDTH="100%"
><I
>stream</I
></TD
><TD ALIGN="RIGHT" VALIGN="BASELINE" NOWRAP="NOWRAP"
>&nbsp;[Generic&nbsp;Function]</TD
></TR
></TABLE
></DIV
><DIV CLASS="defunbody"
><TABLE
><TR
><TD
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD
><TD
><P
>Clears any buffered input associated with <I
>stream</I
>, and returns <SPAN CLASS="term"
>false</SPAN
>. This is used to implement <B CLASS="cl"
>clear-input</B
>. The default method does nothing. <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=BEEE4EF780EB791948F21B9EB198033A%2Fstream-clear-input%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><P
> <A HREF="http://bauhh.dyndns.org:8000/clim-spec/edit/anno?aid=31CDB3185DB422D5DEED2112F3130A92%2Fstream-clear-input%2FD.3#Z" CLASS="annolink"
>[annotate]</A
></P
><DIV CLASS="forwardlinks"
><A HREF="22-1.html#_1063"
><SPAN CLASS="forwardlink"
>[&rarr; stream-clear-input, <I
>Generic&nbsp;Function</I
>]</SPAN
></A
><BR
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV CLASS="footer"
><P
>Conversion to HTML and annotation support by Gilbert Baumann <TT
>&lt;gi<SPAN CLASS="blah"
>nothing to see here</SPAN
>lbert@bau<SPAN CLASS="blah"
>neither is here</SPAN
>hh.de&gt;</TT
> </P
></DIV
></BODY
>
<!-- Mirrored from bauhh.dyndns.org:8000/clim-spec/D-3.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 25 Nov 2021 17:30:53 GMT -->
</HTML
>